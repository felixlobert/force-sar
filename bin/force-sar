#!/bin/bash

exists_in_list() {
    local list=$1
    local delimiter=$2
    local value=$3
    for x in ${list//$delimiter/$'\n'}; do
        [[ "$x" == "$value" ]] && return 0
    done
    return 1
}

if exists_in_list "query download process cube" " " "$1"; then
    # pass full command if force-sar function is detected
    "$@"
else
    if [ -n "$1" ]; then
        echo "error: command '$1' not available in FORCE-SAR!"
    fi
    cat << EOF

Welcome! You are using FORCE-SAR.

FORCE-SAR integrates Sentinel-1 Synthetic Radar Aperture imagery into the Framework for Operational Radiometric Correction for Environmental monitoring by David Frantz, david.frantz@geo.hu-berlin.de + many community contributions.

FORCE-SAR consists of the following components:

+ parameter  Generation of parameter files
+ query      Query S1 scenes from CODEDE/CREODIAS/ASF matching criteria give in a PRM file
+ download   Donwload the queried scenes from Alaska Satellite Facility
+ process    Process data previously downloaded or directly from the repository 
+ cube       Cube the processed data into an existing FORCE data cube

EOF
fi
